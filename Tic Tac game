

#include <stdio.h>

char board[3][3];

void initializeBoard() {
    char val = '1';
    for(int i = 0; i < 3; i++) {
        for(int j = 0; j < 3; j++) {
            board[i][j] = val++;
        }
    }
}

void displayBoard() {
    printf("\n\n");
    printf("     |     |     \n");
    printf("  %c  |  %c  |  %c  \n", board[0][0], board[0][1], board[0][2]);
    printf("_____|_____|_____\n");
    printf("     |     |     \n");
    printf("  %c  |  %c  |  %c  \n", board[1][0], board[1][1], board[1][2]);
    printf("_____|_____|_____\n");
    printf("     |     |     \n");
    printf("  %c  |  %c  |  %c  \n", board[2][0], board[2][1], board[2][2]);
    printf("     |     |     \n\n");
}

int placeMark(int position, char mark) {
    int row = (position - 1) / 3;
    int col = (position - 1) % 3;

    if(board[row][col] != 'X' && board[row][col] != 'O') {
        board[row][col] = mark;
        return 1;
    }
    return 0;
}

int checkWin() {
    for(int i = 0; i < 3; i++) {
        if(board[i][0] == board[i][1] && board[i][1] == board[i][2])
            return 1;
    }

    for(int j = 0; j < 3; j++) {
        if(board[0][j] == board[1][j] && board[1][j] == board[2][j])
            return 1;
    }

    if(board[0][0] == board[1][1] && board[1][1] == board[2][2])
        return 1;

    if(board[0][2] == board[1][1] && board[1][1] == board[2][0])
        return 1;

    return 0;
}

int checkDraw() {
    for(int i = 0; i < 3; i++) {
        for(int j = 0; j < 3; j++) {
            if(board[i][j] != 'X' && board[i][j] != 'O')
                return 0;
        }
    }
    return 1;
}

int main() {
    int position;
    int currentPlayer = 1;
    char mark;

    initializeBoard();

    printf("========== TIC TAC TOE (2 Player) ==========\n");
    printf("Player 1 = X\nPlayer 2 = O\n");

    while(1) {
        displayBoard();

        if(currentPlayer == 1)
            mark = 'X';
        else
            mark = 'O';

        printf("Player %d (%c), enter position (1-9): ", currentPlayer, mark);
        scanf("%d", &position);

        if(position < 1 || position > 9) {
            printf("âŒ Invalid input! Please enter number between 1 to 9.\n");
            continue;
        }

        if(!placeMark(position, mark)) {
            printf("âŒ That position is already taken. Try again.\n");
            continue;
        }

        if(checkWin()) {
            displayBoard();
            printf("ğŸ‰ Player %d (%c) Wins!\n", currentPlayer, mark);
            break;
        }

        if(checkDraw()) {
            displayBoard();
            printf("ğŸ¤ Match Draw!\n");
            break;
        }

        currentPlayer = (currentPlayer == 1) ? 2 : 1;
    }

    printf("===========================================\n");
    return 0;
}
